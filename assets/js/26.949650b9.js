(window.webpackJsonp=window.webpackJsonp||[]).push([[26],{286:function(t,a,e){"use strict";e.r(a);var s=e(28),r=Object(s.a)({},(function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h1",{attrs:{id:"ajax"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#ajax"}},[t._v("#")]),t._v(" Ajax")]),t._v(" "),e("h2",{attrs:{id:"什么是-ajax"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#什么是-ajax"}},[t._v("#")]),t._v(" 什么是 Ajax")]),t._v(" "),e("blockquote",[e("p",[t._v("AJAX 是一种用于创建快速动态网页的技术。\n通过在后台与服务器进行少量数据交换，AJAX 可以使网页实现异步更新。这意味着可以在不重新加载整个网页的情况下，对网页的某部分进行更新。")])]),t._v(" "),e("h2",{attrs:{id:"如何使用"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#如何使用"}},[t._v("#")]),t._v(" 如何使用")]),t._v(" "),e("h3",{attrs:{id:"创建-xmlhttprequest-对象"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#创建-xmlhttprequest-对象"}},[t._v("#")]),t._v(" 创建 XMLHttpRequest 对象")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("let xhr = new XMLHttpRequest();\n")])])]),e("h3",{attrs:{id:"设置请求方式和请求路径"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#设置请求方式和请求路径"}},[t._v("#")]),t._v(" 设置请求方式和请求路径")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("xhr.open(请求方法，请求路径);\n")])])]),e("h3",{attrs:{id:"发送请求"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#发送请求"}},[t._v("#")]),t._v(" 发送请求")]),t._v(" "),e("h4",{attrs:{id:"get"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#get"}},[t._v("#")]),t._v(" get")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v('xhr.open("GET","/try/ajax/demo_get.php",true);\nxhr.send();\n')])])]),e("h4",{attrs:{id:"post"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#post"}},[t._v("#")]),t._v(" post")]),t._v(" "),e("blockquote",[e("p",[t._v("post 请求必须加请求头，通过 setRequestHeader() 添加 HTTP 头。然后在 send() 方法中发送的数据")])]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v('xhr.open("POST","/try/ajax/demo_post2.php",true);\nxhr.setRequestHeader("Content-type","application/x-www-form-urlencoded");\nxhr.send("fname=Henry&lname=Ford");\n')])])]),e("h3",{attrs:{id:"监听响应"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#监听响应"}},[t._v("#")]),t._v(" 监听响应")]),t._v(" "),e("h4",{attrs:{id:"响应数据格式"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#响应数据格式"}},[t._v("#")]),t._v(" 响应数据格式")]),t._v(" "),e("ol",[e("li",[t._v("responseText 获得字符串形式的响应数据")]),t._v(" "),e("li",[t._v("responseXML 获得 XML 形式的响应数据")])]),t._v(" "),e("h4",{attrs:{id:"onreadystatechange-侦听服务器响应事件"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#onreadystatechange-侦听服务器响应事件"}},[t._v("#")]),t._v(" onreadystatechange(侦听服务器响应事件)")]),t._v(" "),e("blockquote",[e("p",[t._v("onreadystatechange")])]),t._v(" "),e("p",[t._v("存储函数（或函数名），每当 readyState 属性改变时，就会调用该函数。")]),t._v(" "),e("blockquote",[e("p",[t._v("readyState")])]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("存有 XMLHttpRequest 的状态。从 0 到 4 发生变化。\n0: 请求未初始化\n1: 服务器连接已建立\n2: 请求已接收\n3: 请求处理中\n4: 请求已完成，且响应已就绪\n")])])]),e("blockquote",[e("p",[t._v("status 服务器响应状态")])]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v('200: "OK"\n404: 未找到页面\n')])])]),e("blockquote",[e("p",[t._v("一般获取回调的判断")])]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v('xhr.onreadystatechange=function(){\n  if (xhr.readyState==4 && xhr.status==200){\n    document.getElementById("myDiv").innerHTML=xhr.responseText;\n  }\n}\n')])])])])}),[],!1,null,null,null);a.default=r.exports}}]);
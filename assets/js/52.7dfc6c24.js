(window.webpackJsonp=window.webpackJsonp||[]).push([[52],{264:function(t,s,a){"use strict";a.r(s);var e=a(28),n=Object(e.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"vue2-x-与-vue3-x-语法对比浅析"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#vue2-x-与-vue3-x-语法对比浅析"}},[t._v("#")]),t._v(" vue2.x 与 vue3.x 语法对比浅析")]),t._v(" "),a("blockquote",[a("p",[t._v("转自 web 前端进阶(今日头条) https://www.toutiao.com/i6884994558560567816/?tt_from=weixin&utm_campaign=client_share&wxshare_count=1&timestamp=1603436841&app=news_article&utm_source=weixin&utm_medium=toutiao_android&use_new_style=1&req_id=202010231507210100270461532201371D&group_id=6884994558560567816")])]),t._v(" "),a("h2",{attrs:{id:"项目变化"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#项目变化"}},[t._v("#")]),t._v(" 项目变化")]),t._v(" "),a("p",[t._v("vue2.x 和 vue3.x 目录结构没有什么变化，只是一些使用方法变了，而且默认是安装了 TypeScript")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://www.linzefan.top/images/sidebar/vue/%E9%A1%B9%E7%9B%AE%E5%8F%98%E5%8C%96.png",alt:"Alt text"}})]),t._v(" "),a("h3",{attrs:{id:"生命周期"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#生命周期"}},[t._v("#")]),t._v(" 生命周期")]),t._v(" "),a("p",[t._v("vue3.x 的生命周期也发生了一些变化，大家可以看下面这张图。")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://www.linzefan.top/images/sidebar/vue/%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F.png",alt:"Alt text"}})]),t._v(" "),a("p",[t._v("在项目中具体的使用方法。")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://www.linzefan.top/images/sidebar/vue/%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F%E4%BD%BF%E7%94%A8.png",alt:"Alt text"}})]),t._v(" "),a("h3",{attrs:{id:"main-js"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#main-js"}},[t._v("#")]),t._v(" main.js")]),t._v(" "),a("ul",[a("li",[t._v("vue2.x 使用 import Vue from 'vue'，然后使用 new Vue()创建实例")]),t._v(" "),a("li",[t._v("vue3.x 则是 import {createApp} from 'vue'，通过 createApp()来创建实例了。")])]),t._v(" "),a("p",[t._v("这就导致了很多的插件或 UI 组件库不能使用，比如 ElementUI、iView...")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://www.linzefan.top/images/sidebar/vue/main.png",alt:"Alt text"}})]),t._v(" "),a("h3",{attrs:{id:"router-js-创建路由"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#router-js-创建路由"}},[t._v("#")]),t._v(" router.js 创建路由")]),t._v(" "),a("p",[t._v("vue3.x 需要引入 createRouter 创建地址路由。")]),t._v(" "),a("ul",[a("li",[t._v("createWebHashHistory 对应之前的 hash")]),t._v(" "),a("li",[t._v("createWebHistory 对应之前的 history")])]),t._v(" "),a("p",[a("img",{attrs:{src:"https://www.linzefan.top/images/sidebar/vue/router.png",alt:"Alt text"}})]),t._v(" "),a("h3",{attrs:{id:"vuex-状态管理"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#vuex-状态管理"}},[t._v("#")]),t._v(" vuex 状态管理")]),t._v(" "),a("p",[t._v("vue3.x 中状态管理的创建方式变为了 createStore 。代码结构更精简合理。\n"),a("img",{attrs:{src:"https://www.linzefan.top/images/sidebar/vue/vuex.png",alt:"Alt text"}})]),t._v(" "),a("h3",{attrs:{id:"composition-api"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#composition-api"}},[t._v("#")]),t._v(" Composition API")]),t._v(" "),a("p",[t._v("这个是 vue3.x 变化最大的地方，vue2.x 数据存放在 data，方法在 methods，通过 this 去调用。但是在 vue3.x 这些都没有了，所有的代码全部都在 setup 里面实现，你页面需要哪些方法，就要在当前页引入即可。")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://www.linzefan.top/images/sidebar/vue/comApi.png",alt:"Alt text"}})]),t._v(" "),a("h2",{attrs:{id:"使用介绍"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#使用介绍"}},[t._v("#")]),t._v(" 使用介绍")]),t._v(" "),a("h3",{attrs:{id:"setup"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#setup"}},[t._v("#")]),t._v(" setup")]),t._v(" "),a("p",[t._v("setup 有两个参数 props 和 context")]),t._v(" "),a("ol",[a("li",[t._v("props：接受父组件传的值")]),t._v(" "),a("li",[t._v("context：vue3.x 里面没有 this，提供了一个 context 上下文属性，你可以通过这个属性去获取进行 一些 vue2.x 用 this 实现的操作")])]),t._v(" "),a("p",[a("img",{attrs:{src:"https://www.linzefan.top/images/sidebar/vue/setup%E4%BD%BF%E7%94%A8.png",alt:"Alt text"}})]),t._v(" "),a("h3",{attrs:{id:"ref-声明基础数据类型"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ref-声明基础数据类型"}},[t._v("#")]),t._v(" ref 声明基础数据类型")]),t._v(" "),a("p",[t._v("创建一个响应式的基础类型，只能监听 number、String、boolean 等简单的类型，该属性一旦发生更改，都会被检测到。")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("template"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n   "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("div"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("count"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("div"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("             "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 1")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("template"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("ref"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"vue"')]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("setup")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n   "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" count "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("ref")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n   count"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("value"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("++")]),t._v("    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//必须要加.value")]),t._v("\n   "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n       count        "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//一定要return 出去")]),t._v("\n   "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("h3",{attrs:{id:"reactive-声明响应式数据对象"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#reactive-声明响应式数据对象"}},[t._v("#")]),t._v(" reactive 声明响应式数据对象")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("template"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n   "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("div"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("count"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("name"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("div"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("             "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 857")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("template"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("reactive"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"vue"')]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("setup")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n   "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" count "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("reactive")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      name"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'369'")]),t._v("\n   "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n   count"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("name"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'857'")]),t._v("\n   "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      count\n   "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("###　 computed 计算属性\ncomputed 和 vue2.x 差不多，只是使用前要先引入。")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://www.linzefan.top/images/sidebar/vue/computed.png",alt:"Alt text"}})]),t._v(" "),a("h3",{attrs:{id:"watcheffect-监听"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#watcheffect-监听"}},[t._v("#")]),t._v(" watchEffect 监听")]),t._v(" "),a("p",[t._v("通过 ref 或者 reactive 去创建多个响应式的值，当任何一个值发生改变的时候，立即触发这个函数。")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://www.linzefan.top/images/sidebar/vue/watchEffect1.png",alt:"Alt text"}})]),t._v(" "),a("p",[t._v("watchEffect 方法会返回一个 stop handle 停止监听。")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://www.linzefan.top/images/sidebar/vue/watchEffect2.png",alt:"Alt text"}})]),t._v(" "),a("h2",{attrs:{id:"router-路由"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#router-路由"}},[t._v("#")]),t._v(" router 路由")]),t._v(" "),a("ul",[a("li",[t._v("vue3.x 的 router 和 route 属性也有了很大的变化")]),t._v(" "),a("li",[t._v("在 vue2.x 中使用 this.$router路由跳转，this.$route 获取当前页面路由信息。")])]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 路由跳转")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" useRouter"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"vue-router"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("setup")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" router"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("useRouter")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  router"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("push")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/path'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 获取当前页面路由信息")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" useRoute"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"vue-router"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("setup")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" route"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("useRoute")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("route"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//这里的route相当于vue2.x中的this.$route")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])])}),[],!1,null,null,null);s.default=n.exports}}]);